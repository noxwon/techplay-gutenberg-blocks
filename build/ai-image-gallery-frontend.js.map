{"version":3,"file":"ai-image-gallery-frontend.js","mappings":"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","sources":["webpack://techplay-gutenberg-blocks/webpack/bootstrap","webpack://techplay-gutenberg-blocks/webpack/runtime/compat get default export","webpack://techplay-gutenberg-blocks/webpack/runtime/define property getters","webpack://techplay-gutenberg-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://techplay-gutenberg-blocks/external var \"jQuery\"","webpack://techplay-gutenberg-blocks/./src/blocks/ai-image-gallery/ai-image-gallery-frontend.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = jQuery;","import $ from 'jquery';\n\n// Initialize Masonry, Lightbox, and Hover Actions\n$(document).ready(function() {\n    const galleries = $('.wp-block-techplay-gutenberg-blocks-ai-image-gallery');\n\n    galleries.each(function() {\n        const $gallery = $(this);\n        const isMasonry = $gallery.hasClass('has-masonry');\n        const hasLightbox = $gallery.hasClass('has-lightbox');\n\n        // Add hover actions container and buttons to each item\n        $gallery.find('.gallery-item').each(function() {\n            const $item = $(this);\n            const $img = $item.find('img');\n            const imageUrl = $img.attr('src');\n            // Basic check for valid URL\n            if (imageUrl) { \n                // Ensure SVG icons are used here, replacing any dashicons\n                const hoverActionsHtml = `\n                    <div class=\"image-hover-actions\">\n                        <button class=\"copy-url-button\" title=\"Copy Image URL\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" width=\"16\" height=\"16\">\n                              <path d=\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.871a.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.665l3-3Z\" />\n                              <path d=\"M8.603 17.47a4 4 0 0 1-5.656-5.656l3-3a4 4 0 0 1 5.871.225a.75.75 0 0 1-1.138.977a2.5 2.5 0 0 0-3.665-.142l-3 3a2.5 2.5 0 0 0 3.536 3.536l1.225-1.224a.75.75 0 0 1 1.061 1.06l-1.224 1.224Z\" />\n                            </svg>\n                        </button>\n                        <button class=\"download-image-button\" title=\"Download Image\">\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" width=\"16\" height=\"16\">\n                              <path fill-rule=\"evenodd\" d=\"M10 3.75a.75.75 0 0 1 .75.75v6.19l1.97-1.97a.75.75 0 1 1 1.06 1.06l-3.5 3.5a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06l1.97 1.97V4.5a.75.75 0 0 1 .75-.75Zm-4.25 9.75a.75.75 0 0 1 0 1.5h8.5a.75.75 0 0 1 0-1.5h-8.5Z\" clip-rule=\"evenodd\" />\n                            </svg>\n                        </button>\n                    </div>\n                `;\n                $item.append(hoverActionsHtml);\n            }\n        });\n\n        // Initialize Masonry if enabled\n        if (isMasonry && typeof Masonry !== 'undefined') {\n            const masonryInstance = new Masonry(this, {\n                itemSelector: '.gallery-item',\n                columnWidth: '.gallery-item', \n                percentPosition: true,\n                gutter: parseInt($gallery.css('gap')) || 16\n            });\n\n            // Ensure images are loaded before layout\n            imagesLoaded(this).on('progress', function() {\n                masonryInstance.layout();\n            });\n        }\n\n        // Initialize Lightbox if enabled\n        if (hasLightbox) {\n            initLightbox($gallery);\n        }\n\n        // Initialize Hover Actions (Event Delegation)\n        initHoverActions($gallery);\n    });\n\n    // Create a single lightbox modal element for the entire page if it doesn't exist\n    if ($('#ai-gallery-lightbox-modal').length === 0) {\n        $('body').append(`\n            <div id=\"ai-gallery-lightbox-modal\" class=\"ai-gallery-lightbox-modal\">\n                <div class=\"modal-content\">\n                    <figure>\n                        <button class=\"close-button\" aria-label=\"Close lightbox\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"20\" height=\"20\">\n                                <path fill-rule=\"evenodd\" d=\"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z\" clip-rule=\"evenodd\" />\n                            </svg>\n                        </button>\n                        <img src=\"\" alt=\"\">\n                    </figure>\n                </div>\n            </div>\n        `);\n\n        // Close modal functionality (using .visible class)\n        const $modal = $('#ai-gallery-lightbox-modal');\n        $modal.on('click', function(e) {\n            if ($(e.target).is($modal) || $(e.target).closest('.close-button').length) {\n                $modal.removeClass('visible'); \n                setTimeout(() => { $('body').css('overflow', ''); }, 250); \n            }\n        });\n    }\n\n    // Create a single info modal element if it doesn't exist\n    if ($('#ai-gallery-info-modal').length === 0) {\n        $('body').append(`\n            <div id=\"ai-gallery-info-modal\" class=\"ai-image-modal\" style=\"display: none;\">\n                <div class=\"modal-content\">\n                    <span class=\"close-button\">&times;</span>\n                    <div class=\"image-meta\">\n                        <!-- Content will be populated by JS -->\n                    </div>\n                </div>\n            </div>\n        `);\n        // Close info modal functionality\n        const $infoModal = $('#ai-gallery-info-modal');\n        $infoModal.on('click', function(e) {\n            if ($(e.target).is($infoModal) || $(e.target).is('.close-button')) {\n                $infoModal.fadeOut();\n            }\n        });\n    }\n});\n\nfunction initLightbox($gallery) {\n    console.log(\"[Lightbox] Initializing for gallery:\", $gallery[0]); // Log gallery init\n\n    // Image click handler for lightbox (Revert to using .visible class)\n    $gallery.on('click', 'figure', function(e) {\n        e.preventDefault();\n        console.log(\"[Lightbox] Figure clicked!\"); // Log click event\n        \n        const $img = $(this).find('img');\n        const imageUrl = $img.data('large-src') || $img.attr('src'); \n        console.log(\"[Lightbox] Opening lightbox with image URL:\", imageUrl);\n\n        if (!imageUrl) {\n            console.error(\"[Lightbox] Error: Could not find image URL for lightbox.\");\n            return; // Stop if no URL\n        }\n\n        const $lightboxModal = $('#ai-gallery-lightbox-modal');\n        if ($lightboxModal.length === 0) {\n            console.error(\"[Lightbox] Error: Modal element #ai-gallery-lightbox-modal not found in DOM.\");\n            return; // Stop if modal doesn't exist\n        }\n        console.log(\"[Lightbox] Modal element found.\");\n        \n        const $lightboxImg = $lightboxModal.find('img');\n        if ($lightboxImg.length === 0) {\n            console.error(\"[Lightbox] Error: Image tag not found inside modal.\");\n            return; // Stop if img tag missing\n        }\n        console.log(\"[Lightbox] Modal image tag found.\");\n\n        // Set image source\n        $lightboxImg.attr('src', imageUrl);\n        console.log(\"[Lightbox] Modal image src set to:\", imageUrl);\n\n        // Hide body scroll immediately\n        $('body').css('overflow', 'hidden'); \n        console.log(\"[Lightbox] Body overflow hidden.\");\n        \n        // --- Revert to original code using class --- \n        console.log(\"[Lightbox] Attempting to add .visible class...\");\n        requestAnimationFrame(() => {\n            $lightboxModal.addClass('visible');\n            console.log(\"[Lightbox] .visible class added.\", \"Modal visible status:\", $lightboxModal.hasClass('visible'));\n        });\n        // --- End Revert ---\n    });\n\n    // Info icon click handler - NOTE: Info icon is rendered by PHP, we only handle click\n    $gallery.on('click', '.image-info-icon', function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const $icon = $(this);\n        const $img = $icon.closest('.gallery-item').find('img');\n        const parameters = $img.attr('data-parameters') || ''; \n        \n        console.log(\"Info icon clicked.\");\n        console.log(\"Image Element:\", $img[0]);\n        console.log(\"Attempting to read data-parameters attribute:\", parameters);\n\n        if (parameters && parameters.trim() !== '') {\n            displayInfoModal(parameters);\n        } else {\n            console.log(\"No parameters found or attribute is empty.\");\n            displayInfoModal(''); \n        }\n    });\n}\n\n// Function to initialize hover actions (Copy URL, Download)\nfunction initHoverActions($gallery) {\n    // Copy URL Button Click\n    $gallery.on('click', '.copy-url-button', function(e) {\n        e.preventDefault();\n        e.stopPropagation(); // Prevent lightbox/info modal trigger\n\n        const $button = $(this);\n        const $img = $button.closest('.gallery-item').find('img');\n        const imageUrl = $img.attr('src');\n\n        if (navigator.clipboard && window.isSecureContext) { \n            navigator.clipboard.writeText(imageUrl).then(function() {\n                console.log('Image URL copied to clipboard!');\n                const originalIcon = $button.html();\n                // Use a checkmark SVG for success indication\n                $button.html('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z\" clip-rule=\"evenodd\" /></svg>');\n                setTimeout(() => $button.html(originalIcon), 1500);\n            }, function(err) {\n                console.error('Failed to copy URL: ', err);\n                alert('Failed to copy URL.'); \n            });\n        } else {\n            alert('Clipboard API not supported in this browser or context.');\n        }\n    });\n\n    // Download Image Button Click\n    $gallery.on('click', '.download-image-button', function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const $img = $(this).closest('.gallery-item').find('img');\n        const imageUrl = $img.attr('src');\n        const filename = imageUrl.substring(imageUrl.lastIndexOf('/') + 1) || 'downloaded-image';\n\n        // Use fetch to get the image as a blob (necessary for cross-origin downloads)\n        fetch(imageUrl)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(`HTTP error! status: ${response.status}`);\n                }\n                return response.blob();\n            })\n            .then(blob => {\n                const url = window.URL.createObjectURL(blob);\n                const a = document.createElement('a');\n                a.style.display = 'none';\n                a.href = url;\n                // Set the filename for download\n                a.download = filename;\n                document.body.appendChild(a);\n                a.click();\n                window.URL.revokeObjectURL(url);\n                a.remove();\n            })\n            .catch(e => {\n                console.error('Error downloading image:', e);\n                // If fetch fails (e.g., CORS), try direct link as fallback (might open in new tab)\n                try {\n                    const a = document.createElement('a');\n                    a.style.display = 'none';\n                    a.href = imageUrl;\n                    a.target = '_blank'; // Open in new tab as fallback\n                    a.download = filename; // Attempt download attribute\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } catch (fallbackError) {\n                    console.error('Fallback download attempt failed:', fallbackError);\n                    alert('Could not download image.');\n                }\n            });\n    });\n}\n\n// Function to parse SD parameters (revised v2)\nfunction parseSDParameters(paramsString) {\n    console.log(\"Parsing parameters string (raw):\", paramsString);\n    const result = { positive: '', negative: '', params: {} };\n    if (!paramsString || typeof paramsString !== 'string') return result;\n\n    const lines = paramsString.split('\\n');\n    let positiveLines = [];\n    let paramLinesStartIndex = -1;\n    let negativePromptLineIndex = -1;\n\n    // First pass: Identify parameter start and negative prompt line\n    for (let i = 0; i < lines.length; i++) {\n        const line = lines[i].trim();\n        if (paramLinesStartIndex === -1 && line.match(/^\\s*\\w+\\s*:.+/)) {\n            paramLinesStartIndex = i;\n        }\n        if (line.startsWith('Negative prompt:')) {\n            negativePromptLineIndex = i;\n        }\n    }\n\n    // Determine positive prompt lines\n    let positiveEndIndex = lines.length; // Default to end if no params/negative found\n    if (negativePromptLineIndex !== -1) {\n        positiveEndIndex = negativePromptLineIndex;\n    } else if (paramLinesStartIndex !== -1) {\n        positiveEndIndex = paramLinesStartIndex;\n    }\n    positiveLines = lines.slice(0, positiveEndIndex);\n    result.positive = positiveLines.join('\\n').trim();\n\n    // Extract negative prompt if found\n    if (negativePromptLineIndex !== -1) {\n        result.negative = lines[negativePromptLineIndex].substring('Negative prompt:'.length).trim();\n        // Adjust param start if negative prompt came before params\n        if (paramLinesStartIndex === -1 || paramLinesStartIndex < negativePromptLineIndex) {\n             paramLinesStartIndex = negativePromptLineIndex + 1;\n        }\n    } else {\n        result.negative = '';\n    }\n\n    // Process key-value parameters if found\n    if (paramLinesStartIndex !== -1 && paramLinesStartIndex < lines.length) {\n        const paramString = lines.slice(paramLinesStartIndex).join(' ').trim(); // Join remaining lines\n        console.log(\"Parameter string part for parsing:\", paramString);\n\n        // Split by comma, looking ahead for \"Key:\" pattern more carefully\n        // This regex is still imperfect for complex values with commas, but better\n        const paramParts = paramString.split(/,(?=\\s*(?:\\w+\\s*):\\s*)/);\n        console.log(\"Split param parts:\", paramParts);\n\n        paramParts.forEach(part => {\n            const parts = part.trim().split(':');\n            if (parts.length >= 2) {\n                const key = parts[0].trim();\n                let value = parts.slice(1).join(':').trim(); // Join back potential colons\n                \n                // Remove trailing comma if present (from split edge case)\n                if (value.endsWith(',')) {\n                    value = value.substring(0, value.length - 1).trim();\n                }\n                \n                if (key) {\n                    result.params[key] = value;\n                }\n            }\n        });\n    }\n\n    console.log(\"Parsed data (final v2):\", result);\n    return result;\n}\n\n// Function to display info modal\nfunction displayInfoModal(parameters) {\n    const $modal = $('#ai-gallery-info-modal');\n    const $metaContainer = $modal.find('.image-meta');\n    let html = '<h3>Image Generation Details</h3>';\n\n    console.log(\"[displayInfoModal] Function called. Modal element found:\", $modal.length > 0);\n\n    // Handle empty parameters case\n    if (!parameters || parameters.trim() === '') {\n        html += '<p>No detailed parameter information available for this image.</p>';\n        console.log(\"[displayInfoModal] Displaying 'no info' message.\");\n        $metaContainer.html(html);\n        console.log(\"[displayInfoModal] HTML set for 'no info'. Attempting direct display change...\");\n        $modal.css('display', 'flex'); // Use the display property used for centering\n        console.log(\"[displayInfoModal] display style set to 'flex'.\");\n        return; // Exit early\n    }\n\n    // Proceed with parsing if parameters exist\n    console.log(\"[displayInfoModal] Parameters found, proceeding with parsing...\");\n    const parsedData = parseSDParameters(parameters);\n    console.log(\"[displayInfoModal] Parsing complete. Parsed data:\", parsedData);\n\n    // Positive Prompt\n    if (parsedData.positive) {\n        html += `\n            <div class=\"meta-section\">\n                <h4>Positive Prompt</h4>\n                <div class=\"prompt-box positive\">\n                    <p>${parsedData.positive.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\")}</p>\n                </div>\n            </div>\n        `;\n    }\n\n    // Negative Prompt\n    if (parsedData.negative) {\n        html += `\n            <div class=\"meta-section\">\n                <h4>Negative Prompt</h4>\n                <div class=\"prompt-box negative\">\n                     <p>${parsedData.negative.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\")}</p>\n                </div>\n            </div>\n        `;\n    }\n\n    // Other Parameters\n    const otherParamsKeys = Object.keys(parsedData.params);\n    if (otherParamsKeys.length > 0) {\n        html += '<div class=\"meta-section\"><h4>Parameters</h4>';\n        otherParamsKeys.forEach(key => {\n            const value = parsedData.params[key];\n            html += `<p><strong>${key.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\")}:</strong> ${value.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\")}</p>`;\n        });\n        html += '</div>';\n    }\n\n    if (!parsedData.positive && !parsedData.negative && otherParamsKeys.length === 0) {\n        // This condition might be redundant now due to the early exit for empty parameters\n        html += '<p>No detailed parameter information available.</p>';\n    }\n    console.log(\"[displayInfoModal] HTML generation complete.\");\n\n    $metaContainer.html(html);\n    console.log(\"[displayInfoModal] HTML set for parameters. Attempting direct display change with !important...\");\n    // $modal.css('display', 'flex'); // Replace with direct style manipulation\n    $modal.attr('style', 'display: flex !important;'); // Force display with !important\n    console.log(\"[displayInfoModal] display style forcibly set to 'flex !important'.\");\n} "],"names":["$","document","ready","galleries","each","$gallery","isMasonry","hasClass","hasLightbox","find","$item","$img","imageUrl","attr","hoverActionsHtml","append","Masonry","masonryInstance","itemSelector","columnWidth","percentPosition","gutter","parseInt","css","imagesLoaded","on","layout","initLightbox","initHoverActions","length","$modal","e","target","is","closest","removeClass","setTimeout","$infoModal","fadeOut","console","log","preventDefault","data","error","$lightboxModal","$lightboxImg","requestAnimationFrame","addClass","stopPropagation","$icon","parameters","trim","displayInfoModal","$button","navigator","clipboard","window","isSecureContext","writeText","then","originalIcon","html","err","alert","filename","substring","lastIndexOf","fetch","response","ok","Error","concat","status","blob","url","URL","createObjectURL","a","createElement","style","display","href","download","body","appendChild","click","revokeObjectURL","remove","fallbackError","parseSDParameters","paramsString","result","positive","negative","params","lines","split","positiveLines","paramLinesStartIndex","negativePromptLineIndex","i","line","match","startsWith","positiveEndIndex","slice","join","paramString","paramParts","forEach","part","parts","key","value","endsWith","$metaContainer","parsedData","replace","otherParamsKeys","Object","keys"],"sourceRoot":""}